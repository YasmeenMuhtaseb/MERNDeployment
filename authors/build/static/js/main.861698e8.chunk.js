(this.webpackJsonpauthors=this.webpackJsonpauthors||[]).push([[0],{24:function(t,e,n){},25:function(t,e,n){},51:function(t,e,n){"use strict";n.r(e);var c=n(1),s=n.n(c),r=n(18),a=n.n(r),i=(n(24),n(25),n(2)),o=n(5),l=n(4),j=n.n(l),b=n(0),u=function(t){return Object(b.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(e){return n=t.id,void j.a.delete("http://localhost:8000/api/delete/"+n).then((function(t){return Object(i.c)("/")})).catch((function(t){return console.log("There was an issue: ",t)}));var n},children:"Delete"})},d=function(t){var e=Object(c.useState)([]),n=Object(o.a)(e,2),s=n[0],r=n[1];return Object(c.useEffect)((function(){j.a.get("http://localhost:8000/api/authors").then((function(t){return r(t.data)})).catch((function(t){return console.log("There was an issue: ",t)}))}),[s]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{className:"btn btn-primary btn-sm",onClick:function(){return Object(i.c)("/new")},children:"New Author"}),Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Author"}),Object(b.jsx)("th",{children:"Actions available"})]})}),Object(b.jsx)("tbody",{children:s.map((function(t,e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:t.name}),Object(b.jsx)("button",{className:"btn btn-primary btn-sm",onClick:function(){return Object(i.c)("/".concat(t._id,"/edit"))},children:"Edit"})," | ",Object(b.jsx)(u,{id:t._id}),Object(b.jsx)("td",{})]},e)}))})]})})]})},h=(n(17),function(t){var e=Object(c.useState)(""),n=Object(o.a)(e,2),s=n[0],r=n[1],a=Object(c.useState)([]),l=Object(o.a)(a,2),u=l[0],d=l[1];return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-12",children:[Object(b.jsx)("p",{children:Object(b.jsx)(i.a,{to:"/",children:"Home"})}),Object(b.jsxs)("p",{children:["Add a new author:\xa0",u.map((function(t,e){return Object(b.jsx)("small",{style:{color:"red"},children:t},e)}))]})]})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-6",children:Object(b.jsxs)("form",{onSubmit:function(t){t.preventDefault(),j.a.post("http://localhost:8000/api/newauthor",{name:s}).then((function(){return Object(i.c)("/")})).catch((function(t){for(var e=t.response.data.errors,n=[],c=0,s=Object.keys(e);c<s.length;c++){var r=s[c];n.push(e[r].message)}d(n)}))},children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Name:"}),Object(b.jsx)("input",{onChange:function(t){return r(t.target.value)},type:"text",className:"form-control"})]}),Object(b.jsxs)("div",{className:"form-group text-right",children:[Object(b.jsx)("button",{onClick:function(){return Object(i.c)("/")},type:"button",className:"btn btn-secondary btn-sm",children:"Cancel"}),Object(b.jsx)("button",{className:"btn btn-primary btn-sm",style:{marginLeft:"10px"},children:"Submit"})]})]})})})]})}),O=function(t){var e=Object(c.useState)([]),n=Object(o.a)(e,2),s=n[0],r=n[1],a=Object(c.useState)(""),l=Object(o.a)(a,2),d=l[0],h=l[1],O=Object(c.useState)(""),m=Object(o.a)(O,2),x=m[0],p=m[1];Object(c.useEffect)((function(){j.a.get("http://localhost:8000/api/authors/"+t.id).then((function(t){h(t.data.name),p("")})).catch((function(t){return p("We're sorry, but we could not find the author you are looking for. Would you like to add this author to our database?")}))}),[]);return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"row",children:Object(b.jsxs)("div",{className:"col-12",children:[Object(b.jsx)("p",{children:Object(b.jsx)(i.a,{to:"/",children:"Home"})}),Object(b.jsxs)("p",{children:["Update Author: \xa0",s.map((function(t,e){return Object(b.jsx)("small",{style:{color:"red"},children:t},e)}))]})]})}),x?Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{style:{color:"red"},children:x}),Object(b.jsx)("button",{onClick:function(){return Object(i.c)("/new")},type:"button",className:"btn btn-primary btn-sm",style:{marginRight:"10px"},children:"Create"})]}):Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-6",children:Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j.a.put("http://localhost:8000/api/"+t.id+"/edit",{name:d}).then((function(){return Object(i.c)("/")})).catch((function(t){for(var e=t.response.data.errors,n=[],c=0,s=Object.keys(e);c<s.length;c++){var a=s[c];n.push(e[a].message)}r(n)}))},children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Name:"}),Object(b.jsx)("input",{type:"text",className:"form-control",value:d,onChange:function(t){return h(t.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group text-right",children:[Object(b.jsx)("button",{onClick:function(){return Object(i.c)("/")},type:"button",className:"btn btn-secondary btn-sm",style:{marginRight:"10px"},children:"Cancel"}),Object(b.jsx)(u,{id:t.id}),Object(b.jsx)("button",{className:"btn btn-primary btn-sm",style:{marginLeft:"10px"},children:"Update"})]})]})})})]})};var m=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(i.b,{children:[Object(b.jsx)(d,{path:"/"}),Object(b.jsx)(h,{path:"/new"}),Object(b.jsx)(O,{path:"/:id/edit"})]})})},x=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(e){var n=e.getCLS,c=e.getFID,s=e.getFCP,r=e.getLCP,a=e.getTTFB;n(t),c(t),s(t),r(t),a(t)}))};a.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(m,{})}),document.getElementById("root")),x()}},[[51,1,2]]]);
//# sourceMappingURL=main.861698e8.chunk.js.map