{"version":3,"sources":["components/Delete.jsx","components/AuthorsTable.jsx","components/CreateAuthorForm.jsx","components/UpdateAuthorForm.jsx","App.js","reportWebVitals.js","index.js"],"names":["Delete","props","className","onClick","e","id","axios","delete","then","response","navigate","catch","error","console","log","AuthorsTable","useState","authors","setAuthors","useEffect","get","data","map","author","index","name","_id","CreateAuthorForm","setName","errors","setErrors","to","err","style","color","onSubmit","preventDefault","post","errorResponse","errorArr","Object","keys","key","push","message","onChange","target","value","type","marginLeft","UpdateAuthorForm","idError","setIdError","marginRight","put","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.861698e8.chunk.js","sourcesContent":["import React from 'react'\r\nimport axios from \"axios\"\r\nimport { navigate } from \"@reach/router\"\r\n\r\nconst Delete = (props) => {\r\n    const deleteHandler = (id) => {\r\n        axios.delete('http://localhost:8000/api/delete/'+ id)\r\n        .then(response => navigate('/'))\r\n        .catch(error => console.log(\"There was an issue: \", error))\r\n    }\r\n    return (\r\n        <button className=\"btn btn-danger btn-sm\" onClick={(e)=>deleteHandler(props.id)}>Delete</button>\r\n    )\r\n}\r\n\r\nexport default Delete\r\n","import React, {useState, useEffect} from \"react\"\r\nimport axios from \"axios\"\r\nimport { Link, navigate } from \"@reach/router\"\r\nimport Delete from \"./Delete\"\r\n\r\nconst AuthorsTable = props => {\r\n    const [authors, setAuthors] = useState([])\r\n    useEffect( () => {\r\n        axios.get(\"http://localhost:8000/api/authors\")\r\n            .then(response => setAuthors((response.data)))\r\n            .catch(error => console.log(\"There was an issue: \", error))\r\n    },[authors])\r\n    return(\r\n        <>\r\n        <button className=\"btn btn-primary btn-sm\" onClick={()=>navigate(\"/new\")}>New Author</button>\r\n        <div className=\"container\">\r\n        <table><thead><tr><th>Author</th><th>Actions available</th></tr></thead><tbody>{\r\n                authors.map((author,index)=><tr key={index}><td>{author.name}</td><button className=\"btn btn-primary btn-sm\" onClick={()=>navigate(`/${author._id}/edit`)}>Edit</button> | <Delete id={author._id}/><td></td></tr>)\r\n                }</tbody></table>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\nexport default AuthorsTable","import React, { useState } from \"react\"\r\nimport axios from \"axios\"\r\nimport { navigate, Link } from \"@reach/router\"\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nconst CreateAuthorForm = props => {\r\n\r\n    const [name, setName] = useState(\"\")\r\n    const [errors, setErrors] = useState([])\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault()\r\n        axios.post(\"http://localhost:8000/api/newauthor\", {\r\n            name: name,\r\n        })\r\n            .then(() => navigate(\"/\"))\r\n            .catch(err =>{\r\n                const errorResponse = err.response.data.errors; // Get the errors from err.response.data\r\n                const errorArr = []; // Define a temp error array to push the messages in\r\n                for (const key of Object.keys(errorResponse)) { // Loop through all errors and get the messages\r\n                    errorArr.push(errorResponse[key].message)\r\n                }\r\n                // Set Errors\r\n                setErrors(errorArr);\r\n            })\r\n    }\r\n    return(\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                    <p><Link to=\"/\">Home</Link></p>\r\n                    <p>Add a new author:&nbsp;\r\n                        {\r\n                            errors.map((err, index) => <small key={index} style={{color:\"red\"}}>{err}</small>)\r\n                        }\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col-6\">\r\n                    <form onSubmit={ onSubmit }>\r\n                        <div className=\"form-group\">\r\n                            <label>Name:</label>\r\n                            <input onChange={(e)=>setName(e.target.value)} type=\"text\" className=\"form-control\"/>\r\n                        </div>\r\n                        <div className=\"form-group text-right\">\r\n                            <button onClick={()=>navigate(\"/\")} type=\"button\" className=\"btn btn-secondary btn-sm\">Cancel</button>\r\n                            <button className=\"btn btn-primary btn-sm\" style={{marginLeft: \"10px\"}}>Submit</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default CreateAuthorForm","import React, { useState,useEffect } from \"react\"\r\nimport axios from \"axios\"\r\nimport { navigate, Link } from \"@reach/router\"\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Delete from \"./Delete\";\r\n\r\n\r\nconst UpdateAuthorForm = (props) => {\r\n\r\n    const [errors, setErrors] = useState([])\r\n    const [name, setName] = useState('')\r\n    const [idError, setIdError] = useState(\"\");\r\n\r\n    useEffect( () => {\r\n        axios.get(\"http://localhost:8000/api/authors/\"+props.id)\r\n            .then(response => {setName((response.data.name));setIdError(\"\")})\r\n            .catch(error => setIdError(\"We're sorry, but we could not find the author you are looking for. Would you like to add this author to our database?\"))\r\n    },[])\r\n    const onSubmit = e => {\r\n        e.preventDefault()\r\n        axios.put(\"http://localhost:8000/api/\"+props.id+\"/edit\", {\r\n            name: name,\r\n        })\r\n            .then(() => navigate(\"/\"))\r\n            .catch(err =>{\r\n                const errorResponse = err.response.data.errors; // Get the errors from err.response.data\r\n                const errorArr = []; // Define a temp error array to push the messages in\r\n                for (const key of Object.keys(errorResponse)) { // Loop through all errors and get the messages\r\n                    errorArr.push(errorResponse[key].message)\r\n                }\r\n                // Set Errors\r\n                setErrors(errorArr);\r\n            })\r\n    }\r\n    return(\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                    <p><Link to=\"/\">Home</Link></p>\r\n                    <p>Update Author: &nbsp;\r\n                        {\r\n                            errors.map((err, index) => <small key={index} style={{color:\"red\"}}>{err}</small>)\r\n                        }\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            {idError?\r\n            <div>\r\n            <h3 style={{color:\"red\"}}>{idError}</h3>\r\n            <button onClick={()=>navigate(\"/new\")} type=\"button\" className=\"btn btn-primary btn-sm\" style={{marginRight: \"10px\"}}>Create</button></div>:\r\n            <div className=\"row\">\r\n                <div className=\"col-6\">\r\n                    <form onSubmit={ onSubmit }>\r\n                        <div className=\"form-group\">\r\n                            <label>Name:</label>\r\n                            <input  type=\"text\" className=\"form-control\" value={name} onChange={(e)=>setName(e.target.value)}/>\r\n                        </div>\r\n                        <div className=\"form-group text-right\">\r\n                            <button onClick={()=>navigate(\"/\")} type=\"button\" className=\"btn btn-secondary btn-sm\" style={{marginRight: \"10px\"}}>Cancel</button>\r\n                            <Delete id={props.id}/>\r\n                            <button className=\"btn btn-primary btn-sm\" style={{marginLeft: \"10px\"}}>Update</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\nexport default UpdateAuthorForm\r\n","import './App.css';\nimport {Router} from \"@reach/router\";\nimport React, { useState } from 'react';\n\nimport AuthorsTable from \"./components/AuthorsTable\"\nimport CreateAuthorForm from \"./components/CreateAuthorForm\"\nimport UpdateAuthorForm from './components/UpdateAuthorForm';\n\nfunction App() {\n\n  return (\n      <div className=\"App\">\n        <Router>\n          <AuthorsTable path=\"/\"/>\n          <CreateAuthorForm path=\"/new\"/>\n          <UpdateAuthorForm path =\"/:id/edit\"/>\n        </Router>\n      </div>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}